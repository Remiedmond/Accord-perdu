<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accord perdu</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/game.css" />
    <link rel="stylesheet" href="css/systems.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
  </head>
  <body>
    <div id="modal-overlay" class="hidden" onclick="Game.closeModal()">
      <div class="modal-content" onclick="event.stopPropagation()">
        <button class="close-btn" onclick="Game.closeModal()">X</button>

        <img id="modal-img" src="" alt="info" />

        <p id="modal-desc"></p>
      </div>
    </div>

    <div id="ui-layer">
      <div id="timer">23:55</div>
      <div id="inventory"></div>
    </div>

    <section id="scene-accueil" class="scene active">
  <div class="video-container">
    <video 
      id="intro-video"
      src="assets/video/accueil.mp4" 
      autoplay 
      muted 
      playsinline
      onclick="Game.startGame()"
      onended="Game.startGame()"
    ></video>
  
  </div>
</section>

    <section id="scene-ruelle" class="scene hidden">
      <img src="assets/img/bg_ruelle.png" class="bg-img" alt="Ruelle" />

      <div
        id="item-flyer"
        class="hitbox interactable"
        onclick="Game.examine('flyer')"
      ></div>

      <div
        id="door-zone"
        class="hitbox interactable"
        onclick="Puzzles.openDigicode()"
      ></div>
    </section>

    <div id="overlay-digicode" class="overlay hidden">
      <div class="digicode-container">
        <div id="digicode-screen">_ _ _ _</div>
        <div class="keypad">
          <button onclick="Puzzles.typeCode(1)">1</button>
          <button onclick="Puzzles.typeCode(2)">2</button>
          <button onclick="Puzzles.typeCode(3)">3</button>

          <button onclick="Puzzles.typeCode(4)">4</button>
          <button onclick="Puzzles.typeCode(5)">5</button>
          <button onclick="Puzzles.typeCode(6)">6</button>

          <button onclick="Puzzles.typeCode(7)">7</button>
          <button onclick="Puzzles.typeCode(8)">8</button>
          <button onclick="Puzzles.typeCode(9)">9</button>

          <button class="btn-reset" onclick="Puzzles.resetCode()">C</button>
          <button onclick="Puzzles.typeCode(0)">0</button>
          <button class="btn-ok" onclick="Puzzles.validateCode()">OK</button>
        </div>
        <button class="close-btn" onclick="Puzzles.closeDigicode()">X</button>
      </div>
    </div>

    <div id="blackout-overlay"></div>

    <section id="scene-studio" class="scene hidden">
    <img src="assets/img/bg_studio.png" class="bg-img" alt="Studio">
    
    <div id="studio-darkness"></div>

    <div id="fuse-box" class="dropzone-fuse">
        <div id="slot-1" class="slot-light" onclick="Logic.removeFuse(1)"></div>
        <div id="slot-2" class="slot-light" onclick="Logic.removeFuse(2)"></div>
        <div id="slot-3" class="slot-light" onclick="Logic.removeFuse(3)"></div>
    </div>

    <div id="fuse-1" class="draggable-fuse">⚡</div>
    <div id="fuse-2" class="draggable-fuse">⚡</div>
    <div id="fuse-3" class="draggable-fuse">⚡</div>

    <div id="boot-overlay" class="hidden">
    <img src="assets/img/screen_boot.png" alt="Booting System...">
    <div class="loading-bar"></div> </div>
   
        
        <div id="drop-drums" class="dropzone" data-accept="drag-drums">Batterie</div>
        <div id="drop-bass" class="dropzone" data-accept="drag-bass">Basse</div>
        <div id="drop-melody" class="dropzone" data-accept="drag-melody">Mélodie</div>

        <div id="tracks-rack">
            <div id="drag-drums" class="draggable-item track-drums"> Batterie</div>
            <div id="drag-bass" class="draggable-item track-bass"> Basse</div>
            <div id="drag-melody" class="draggable-item track-melody"> Mélodie</div>
        </div>

        <div id="locked-overlay" class="hidden">
            <div class="screen-container">
                <img src="assets/img/screen_locked.png" alt="Locked Screen" v-if="sreencache">
                
                <input type="text" id="pc-password" autocomplete="off" placeholder="...">
                
                <button id="btn-unlock" onclick="Logic.checkPassword()">OK</button>
                
                <button class="close-btn-modal" onclick="Logic.closeLockedScreen()">X</button>
            </div>
        </div>

        <div id="daw-screen" class="hitbox" onclick="Logic.openLockedScreen()">
        </div>
</section>

    <script src="js/main.js"></script>
    <script src="js/puzzles.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/hints.js"></script>
    <script src="js/drag_logic.js"></script>
  </body>
</html>
